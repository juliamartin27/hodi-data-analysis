# Find the average time between when the survey is displayed until response is submitted
SELECT AVG(EXTRACT (SECOND FROM updated_at - inserted_at)) FROM public.survey_responses;

SELECT (survey_responses.updated_at - analytics_events.inserted_at) 
FROM public.survey_responses
JOIN public.analytics_events
ON public.survey_responses.id = public.analytics_events.ref_id;

sort by inserted_at ascending so you get the earliest event after partitioning by the ref_id, use that first on
